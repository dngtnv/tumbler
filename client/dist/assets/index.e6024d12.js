const L=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function i(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerpolicy&&(e.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?e.credentials="include":n.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(n){if(n.ep)return;n.ep=!0;const e=i(n);fetch(n.href,e)}};L();const d=document.querySelector("#search-input"),c=document.querySelector(".lightbox-container"),b=document.querySelector(".lightbox-img"),w=document.querySelectorAll(".lightbox-btn"),m=document.querySelector(".loader");let u=!1;const E=()=>{c.classList.add("active")};c.addEventListener("click",()=>{c.classList.remove("active")});const S=async r=>(await(await fetch(`/user/${r}/total_posts`)).json()).total,q=async r=>{let t;try{const o=await(await fetch(`/user/${r}`)).json();t={avatar:o.info[0].avatar,username:o.info[0].username,description:o.info[0].description},h(t),g(r)}catch{t={avatar:"",username:"Not Found",description:""},h(t)}},h=r=>{const t=document.querySelector("#avatar"),i=document.querySelector("#name"),o=document.querySelector("#description");t.src=r.avatar,i.innerHTML=r.username,o.innerHTML=r.description},g=async(r,t)=>{try{y(),t||(t=0);const o=await(await fetch(`/user/${r}/photos/20/offset=${t}`)).json();x(o)}catch(i){console.log(i)}},x=r=>{let t="";r.images.forEach(s=>{t+='<div class="image-item lightbox-enabled">',t+=`<img id="${s.id}" src="${s.og_size}" data-imagesrc="${s.og_size}" alt="${s.alt}">`,t+="</div>"}),y(),document.querySelector(".image-list").insertAdjacentHTML("beforeend",t);let i=document.querySelectorAll(".lightbox-enabled"),o=[...i],n=o.length-1,e;const l=s=>{if(s)b.src=s.firstChild.dataset.imagesrc;else return;e=o.indexOf(s)};w.forEach(s=>{s.addEventListener("click",a=>{a.stopPropagation(),f(a.currentTarget.id)})});const f=s=>{s.includes("left")?p():v()},p=()=>{if(e===0)l(o[n]);else if(o[e])l(o[e].previousElementSibling);else return},v=()=>{if(e===n)l(o[0]);else if(o[e])l(o[e].nextElementSibling);else return};i.forEach(s=>{s.addEventListener("click",a=>{E(),l(s)})}),window.addEventListener("keydown",s=>{!c.classList.contains("active")||(s.key.includes("Left")||s.key.includes("Right"))&&(s.preventDefault(),f(s.key.toLowerCase()))}),u=!1},y=()=>{m.style.display="block",setTimeout(()=>{m.style.display="none"},1800)},k=()=>{let r,t;d.addEventListener("keydown",i=>{if(i.keyCode===13){r=d.value;let o=r.toLowerCase();d.blur();let n=document.querySelector(".image-list");for(;n.firstChild;)n.removeChild(n.firstChild);q(o),S(o).then(e=>t=e),window.onscroll=function(){if(!u&&this.innerHeight+this.pageYOffset>=document.body.scrollHeight/4*3&&n.hasChildNodes()){u=!0;let e=document.querySelectorAll(".image-item");if(e.length===t)return;g(o,e.length)}}}})};k();
